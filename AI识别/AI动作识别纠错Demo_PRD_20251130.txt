动作识别纠错Demo需求PRD：

【基础需求】
1. 提供动作选项（动作名称），点击不同选项识别不同动作（选择框在角落，随时可切换，不遮挡画面）
2. 通过PC摄像头捕捉我的实时动作
3. 实时标记出我身上的关键骨骼点（采用目前支持骨骼点最多，最准确的模型）
4. 识别并实时纠错我选择的健身动作
5. 可直接运行的Python程序（无报错，无Bug）

【动作选项】
下拉选项，支持鼠标操作
1. 推举
2. 深蹲
3. 前平举

【身高输入】
- 引入身高辅助纠错判断机制
- 左上角动作选择框旁新增身高输入框“请输入身高”（厘米cm）

【实时性能】
1. 性能监控：需在界面左下角显示实时 FPS 帧率

【数据看板】
新增数据看板功能；
功能入口在界面右下角FPS旁边；
支持鼠标点击展开和收起；展开时不遮挡画面数据清晰
展示实时数据

【动作计次】
1. 数字记录完成动作的次数（适度放宽计次标准）
2. 计次判断：
- 动作相似时计次
- 当动作不相似时不计次

【动作纠错 - 通用逻辑】
1. 状态机：
- 当动作一直正确时，不弹出任何提示；
- 连续2次动作循环都出现错误才触发纠错；
- 触发纠错后保持1次动作循环动作正确纠错解除；
- 以上形成闭环逻辑
- 非此类情况不触发任何纠错和对应动效
2. 纠错优先级：纠错1＞纠错2＞相似度；仅当纠错高优先级纠错未触发时，可触发低优先级纠错；低优先级纠错中触发高优先级纠错，顶掉当前纠错
3. 通用鼓励提示：真棒！动作正确了！（中文；绿色）

【相似度判断】
- 未做动作时显示
- 做动作且相似时清除
- 触发其他纠错时，挤占相似提示

【通用纠错 - 耸肩】
- 纠错触发：任意一侧或双侧肩与对应侧耳的相对垂直高度 ≥ 阈值，且连续两次动作循环时：纠错提示（常显）
- 纠错解除：当纠错状态中，任意一侧或双侧肩与对应侧耳的相对垂直高度＜阈值，且正确保持一个动作循环时：纠错消失；通用鼓励提示
注：耸肩定义：抬手举到最高点时，任意一侧或双侧肩相对于耳有明显升高（大于正常抖动范围，凭借经验定义阈值）
- 提示文本：动作中耸肩影响训练效果！（红色；中文）
- 动效：无

【动作纠错 - 推举】
① 相似度判断：
- 当连续未做推举动作时：相似度提示（常显）
- 当做推举时，进入纠错判断；相似度提示消失
② 纠错判断：
纠错1 - 小臂不垂直：
- 纠错触发：推举过程中，任意一侧（或双侧）小臂均不垂直于地面，且连续两次动作循环时：触发纠错提示（常显）
- 纠错解除：当纠错状态中，双侧小臂重新垂直与地面，且正确保持一个动作循环时：纠错消失；触发通用鼓励提示
纠错2 - 耸肩：通用
③ 提示文本：
- 相似度提示：请做”推举“动作（红色；中文）
- 纠错1：小臂全程垂直于地面效果更好！（红色；中文）
- 纠错2：通用
④ 交互动效：
纠错1：
- 纠错触发时：肘部实时向上长出垂直地面的辅助虚线（红色；略粗），虚线上端显示圆圈（红色；略粗），虚线与小臂实时等长，引导手臂垂直；手掌显示圆点（红色；略粗），从圆点长出箭头（红色；略粗）水平指向圆圈方向，弹性动画；箭头末端与手掌保持一定距离，不要完全连接在上面
- 纠错状态中：当小臂向上（肘到手）垂直时（向下垂直不算）：圆点、圆圈、虚线均变成绿色；箭头变成“√”对勾特效（绿色；略粗）
- 纠错解除时：动效消失
纠错2：通用

【动作纠错 - 深蹲】
① 相似度判断：
- 当连续未做深蹲动作时：相似度提示（常显）
- 当做深蹲时，进入纠错判断；相似度提示消失
② 纠错判断：
注：站姿不要误识别为纠错
注：膝外侧角：大腿与小腿在身体两边外侧的夹角，不是靠近躯干的一侧！
纠错1 - 膝关节内扣：
- 开启膝内扣检测：下蹲幅度至髋膝高度约1/3距离时开启膝内扣检测（仅下蹲过程中，从最低点向上站起全程不要检测）
- 纠错触发：膝盖间距 < 脚踝间距 × 0.95（双膝连线间距短于两脚脚尖与脚踝中点（脚掌正中）连线的间距），且连续两次动作循环时：触发纠错提示（常显）
- 纠错解除：当纠错状态中，膝盖间距 ≥ 脚踝间距 × 0.95，且正确保持一个动作循环时：纠错消失
纠错2 - 深蹲幅度：
- 纠错触发：下蹲至最低点时，髋部中点未低于双膝连线中点，且连续两次动作循环时：触发纠错提示（常显）
- 纠错解除：当纠错状态中，下蹲至最低点时，髋部中点平行或低于双膝连线中点，且正确保持一个动作循环时：纠错消失；触发通用鼓励提示
③ 提示文本：
- 相似度提示：请做“深蹲”动作（中文；红色）
- 纠错1：蹲至大腿平行地面地面效果更好！（中文；红色）
- 纠错2：注意膝关节不要内扣！（中文；红色）
④ 交互动效：
纠错1：
- 纠错触发时：双膝分别指向身体两边外侧面长出箭头，箭头离膝关节稍微保持一定距离，同时向外弹性动画（红色；略粗清晰一些）
- 纠错状态中：双侧膝外侧角≥175°时：箭头变成“√”对勾特效（绿色；略粗）
- 纠错解除时：动效消失
注：只要任意一侧膝盖的 X 坐标向内越过了脚踝的垂直线，即刻触发单侧报错动效
 纠错2：
- 纠错触发时：髋部中点显示圆点（红色；略粗）；双膝连线中点显示圆圈（红色；略粗）；圆圈和原点之间通过辅助虚线（红色；略粗）动态连接
- 纠错状态中：当下蹲时，圆点接触到圆圈时：圆点、圆圈、虚线均变成绿色
- 纠错解除时：动效消失

【动作纠错 - 前平举】
① 相似度判断：
- 当连续未做前平举动作时：相似度提示（常显）
- 当做前平举时，进入纠错判断；相似度提示消失
② 纠错判断：
纠错1 - 抬臂幅度：
- 纠错触发：抬臂至最高点时，肘水平高度离肩水平高度仍然有一定距离（抬臂幅度不足），且连续两次动作循环时：触发纠错提示（常显）
注：实际3D空间中肘部从最低点至动作最高点实际抬高度不足躯干高度（双髋中点到双肩中点垂直高度）的1/2就可以判断纠错（以上为产品定义，要根据摄像头位置，动态换算成空间角度）
- 纠错解除：抬臂至最高点时，肘水平高度离肩水平高度非常接近甚至略超过，且正确保持一个动作循环时：纠错消失
注：这里的水平高度是3D环境实际高度，不是骨骼点映射至2D屏幕的高度，因为摄像头摆放位置可能偏低，透视导致骨骼点视觉错位，请算法实时矫正
纠错2 - 耸肩：通用
③ 提示文本：
- 相似度提示：请做”前平举“动作（中文；红色）
纠错1：肘部抬至与肩等高效果更好（中文；红色）
纠错2：通用
④ 交互动效：
纠错1：
- 纠错触发时：肩部向水平向身体正前方长出辅助虚线（预测方向，并映射到2D屏幕方向）；虚线前端显示圆圈（红色；略粗），虚线与整个上臂（肩到肘）实时等长（3D空间实时等长，并映射到2D屏幕显示），引导手臂抬高；肘部显示圆点（红色；略粗），从圆点长出箭头（红色；略粗）垂直向上指向圆圈方向，弹性动画；箭头末端与手掌保持一定距离，不要完全连接在上面
- 纠错状态中：当肘部向上接近实际肩部高度（3D空间高度）时：圆点、圆圈、虚线均变成绿色；箭头变成“√”对勾特效（绿色；略粗）
- 纠错解除时：动效消失
纠错2：通用


【动作纠错 - xxx】
① 相似度判断：
- 当连续未做xxx动作时：相似度提示（常显）
- 当做xxx时，进入纠错判断；相似度提示消失
② 纠错判断：
纠错1 - xxx：
- 纠错触发：
- 纠错解除：
纠错2 - xxx：
- 纠错触发：
- 纠错解除：
③ 提示文本：
④ 交互动效：
纠错1：
- 纠错触发时：
- 纠错状态中：
- 纠错解除时：
纠错2：
- 纠错触发时：
- 纠错状态中：
- 纠错解除时：

【多模态交互】
1. 分屏2侧，左侧摄像头实时图像（映射我的骨骼点和连线）；右侧独立火柴小人，实时映射我的动作（设计高级一些，真人外观，有头有身体）；双侧骨骼点小人比例尺寸位置完全保持一致且同步，双侧交互动效保持一致且同步
2. 计次、触发纠错、触发鼓励时，调用合适的系统音效

【UI设计】
1. UI设计高级酷炫，未来感十足，色彩高级不俗
2. 所有UI元素自适应画面比例缩放，不变形
3. 所有UI元素互相无遮挡
4. 提示文本大小足够，清晰可见，不要用高饱和度色彩的文字
5. 支持中文字体，文本颜色选择清晰可见
6. 骨骼点小人设计完美，接近真人
7. 骨骼点飞出画面时进行严格的边界裁剪


【视窗尺寸自适应】
1. 输出分辨率标准化为 1920x1080 (16:9)，并对摄像头画面进行“中心裁剪（Center Crop）”以适应左右分屏的竖构图
2. 请支持整个软件界面动态显示，左右侧图像基于整体软件可视区域对半分屏，自适应显示区域
3. 窗口支持缩放，完美适配屏幕，支持手动拖动缩放；支持窗口跟随显示器区域动态缩放
4. 点击窗口的”关闭“按钮，可关闭程序

【版本适配】
1. Win10流畅完美运行
2. 完美兼容环境：
Python: 3.10
Numpy: 1.26.4
MediaPipe: 0.10.9
Protobuf: 3.20.3
OpenCV: 4.10.0.84