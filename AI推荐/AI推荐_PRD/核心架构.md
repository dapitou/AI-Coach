# 一、 核心架构
> 定义：AI推荐引擎的七层决策模型，实现从宏观目标到微观动作的逐级穿透。

## 第1层：计划
> **决策核心**：宏观目标规划
- **输入**：用户档案（目标/等级/频率）
- **决策**：确定总周期、总目标、难度基准。
- **输出**：`计划ID`，`计划目标`，`计划难度`
       ↓
## 第2层：阶段
> **决策核心**：周期化策略
- **输入**：计划总周期
- **决策**：划分适应期/进阶期/突破期/减载期，设定各阶段的强度系数。
- **输出**：`阶段类型`，`负荷策略`，`强度修正系数`
       ↓
## 第3层：单周循环模板
> **决策核心**：周排课逻辑
- *输入*：用户周频、阶段目标、[1.5 单周循环模板配置]
- **决策**：选择最佳分化模式（如推拉腿/全身），处理频率溢出。
- **输出**：`基础槽位列表`（含每日侧重目标/课程模式）
       ↓
## 第4层：课程
> **决策核心**：单课属性装配
- **输入**：槽位定义、用户状态（疲劳度）
- **决策**：确定课程类型、目标部位、总时长、预估消耗。
- **输出**：`课程目标`，`目标部位`，`课程时长`
       ↓
## 第5层：环节
> **决策核心**：内部结构规划
- **输入**：课程时长、包含环节
- **决策**：拆分热身/主训/放松时长，设定各环节的训练参数。
- **输出**：`环节类型`，`环节时长`，`目标RPE`，`循环模式`
       ↓
## 第6层：容量与筛选
> **决策核心**：动作筛选与容量计算
- **输入**：策略矩阵、疲劳状态、动作库
- **决策**：计算目标组数（容量预算），筛选符合条件的动作池。
- **输出**：`目标总组数`，`候选动作列表`
       ↓
## 第7层：动作实例化
> **决策核心**：具体执行参数
- **输入**：候选动作、负荷策略
- **决策**：确定每个动作的具体组数、重量、次数、间歇。
- **输出**：`动作ID`，`执行组数`，`推荐重量`，`休息时间`