<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AEKE User Journey V18.0</title>
    <style>
        :root {
            --bg-dark: #0f1115;
            --panel-bg: #161920;
            --border: #2a2e35;
            --text-main: #e2e8f0;
            --text-muted: #94a3b8;
            --accent: #00f2ea;
            
            /* 9 Steps Gradient */
            --c-1: #3b82f6; --c-2: #0ea5e9; --c-3: #6366f1; --c-4: #8b5cf6;
            --c-5: #a855f7; --c-6: #d946ef; --c-7: #f43f5e; --c-8: #f97316; --c-9: #10b981;
        }

        * { box-sizing: border-box; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            margin: 0;
            height: 100vh;
            display: flex; flex-direction: column; overflow: hidden;
            min-width: 1200px;
        }

        /* --- Header --- */
        header {
            height: 50px; background: rgba(22, 25, 32, 0.95);
            border-bottom: 1px solid var(--border);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px; flex-shrink: 0;
        }
        .brand { font-size: 16px; font-weight: 800; color: #fff; letter-spacing: 1px; display: flex; align-items: center; gap: 15px; }
        
        .scenario-switch {
            display: flex; background: #000; border: 1px solid var(--border);
            border-radius: 4px; padding: 2px;
        }
        .switch-btn {
            padding: 4px 12px; font-size: 12px; cursor: pointer; color: #888;
            border-radius: 2px; transition: 0.2s;
        }
        .switch-btn.active { background: var(--text-main); color: #000; font-weight: bold; }

        .tabs { display: flex; gap: 20px; font-size: 13px; height: 100%; margin-left: auto; }
        .tab { 
            display: flex; align-items: center; padding: 0 10px; cursor: pointer; color: var(--text-muted); 
            border-bottom: 2px solid transparent; transition: 0.3s; 
        }
        .tab:hover { color: #fff; }
        .tab.active { color: var(--accent); border-bottom-color: var(--accent); font-weight: bold; }

        /* --- Layout --- */
        .viewport { flex: 1; display: none; padding: 20px; overflow: hidden; }
        .viewport.active { display: flex; flex-direction: column; }

        /* VIEW 1: Architecture */
        #view-arch { align-items: center; justify-content: flex-start; gap: 20px; }
        .arch-diagram {
            display: grid; grid-template-columns: 1fr 1.2fr 1fr; gap: 20px;
            width: 100%; max-width: 1100px; height: 320px;
        }
        .arch-col {
            background: var(--panel-bg); border: 1px solid var(--border); border-radius: 12px;
            padding: 15px; display: flex; flex-direction: column; gap: 10px; position: relative;
        }
        .col-tag { 
            text-align: center; font-size: 11px; color: var(--text-muted); text-transform: uppercase; 
            border-bottom: 1px dashed #333; padding-bottom: 8px; margin-bottom: 5px; 
        }
        .module {
            flex: 1; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05);
            border-radius: 6px; display: flex; align-items: center; justify-content: center; flex-direction: column;
            cursor: default; transition: 0.2s;
        }
        .module:hover { 
            background: rgba(255,255,255,0.08); border-color: var(--accent); 
            box-shadow: 0 0 15px rgba(0, 242, 234, 0.1); transform: scale(1.02);
        }
        .mod-icon { font-size: 20px; margin-bottom: 5px; color: #ccc; }
        .mod-name { font-size: 13px; font-weight: bold; color: #fff; }

        .info-panel {
            width: 100%; max-width: 1100px; height: 180px;
            background: #131519; border: 1px solid var(--border); border-left: 4px solid var(--accent);
            border-radius: 8px; padding: 25px; display: flex; flex-direction: column; justify-content: center;
            opacity: 0; transition: opacity 0.2s;
        }
        .info-panel.visible { opacity: 1; }
        .info-title { font-size: 18px; font-weight: bold; margin-bottom: 10px; color: #fff; display: flex; align-items: center; gap: 10px; }
        .info-desc { font-size: 14px; color: #ddd; margin-bottom: 15px; line-height: 1.5; }
        .info-meta { display: flex; gap: 40px; font-size: 12px; color: var(--text-muted); border-top: 1px solid #333; padding-top: 15px; }
        .meta-item b { color: var(--accent); display: block; margin-bottom: 4px; }

        /* VIEW 2: Journey */
        #view-flow { flex-direction: row; justify-content: center; gap: 30px; }
        .flow-nav {
            width: 260px; display: flex; flex-direction: column; gap: 6px;
            overflow-y: auto; padding-right: 5px;
        }
        .flow-btn {
            background: var(--panel-bg); border: 1px solid transparent; padding: 10px 15px;
            border-radius: 6px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: 0.2s;
        }
        .flow-btn:hover { background: #222; }
        .flow-btn.active { background: #252830; border-color: rgba(255,255,255,0.2); }
        .flow-idx { 
            width: 22px; height: 22px; border-radius: 50%; font-size: 11px; 
            display: flex; justify-content: center; align-items: center; font-weight: bold; border: 2px solid;
        }

        .flow-content {
            width: 720px; background: var(--panel-bg); border: 1px solid var(--border);
            border-radius: 12px; display: flex; flex-direction: column; overflow: hidden; position: relative;
        }
        .story-header { padding: 25px; border-bottom: 1px solid var(--border); background: rgba(0,0,0,0.2); }
        .story-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; justify-content: space-between;}
        
        .narrative-box {
            margin-bottom: 15px;
            font-size: 15px; line-height: 1.6; color: #fff; 
            border-left: 3px solid var(--accent); padding-left: 12px;
            font-style: italic;
        }
        .logic-desc {
            font-size: 13px; color: var(--text-muted); line-height: 1.5; margin-bottom: 15px;
        }
        
        /* Sub-steps */
        .sub-steps-box {
            padding-top: 15px; border-top: 1px dashed #333;
        }
        .sub-step-label { font-size: 10px; color: #666; margin-bottom: 8px; text-transform: uppercase; font-weight: bold; letter-spacing: 1px; }
        .sub-step-list { display: flex; gap: 8px; flex-wrap: wrap; }
        .sub-item { 
            font-size: 12px; color: var(--text-muted); background: rgba(255,255,255,0.05); border: 1px solid transparent;
            padding: 4px 10px; border-radius: 4px; cursor: help; transition: 0.2s; position: relative;
        }
        .sub-item:hover { color: #fff; background: rgba(255,255,255,0.1); border-color: var(--accent); }

        /* Global Tooltip (High Z-Index) */
        #global-tooltip {
            position: fixed; pointer-events: none; opacity: 0; z-index: 99999;
            background: #1a1d24; border: 1px solid var(--accent); color: #e0e0e0;
            padding: 12px; border-radius: 6px; font-size: 12px; line-height: 1.5; max-width: 280px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8); transition: opacity 0.15s;
        }

        .content-scroll { flex: 1; overflow-y: auto; padding: 25px; }

        /* Tables */
        .block-title { font-size: 12px; color: var(--accent); text-transform: uppercase; margin-bottom: 10px; font-weight: bold; display: flex; align-items: center; gap: 8px; }
        .block-title::after { content:''; flex:1; height:1px; background:#333; }
        
        .pro-table { width: 100%; border-collapse: collapse; font-size: 13px; margin-bottom: 25px; background: #111; border-radius: 6px; overflow: hidden; }
        .pro-table td { padding: 10px 15px; border-bottom: 1px solid #222; color: #ccc; vertical-align: top; }
        .pro-label { width: 110px; color: #888; font-weight: bold; }
        
        .diff-table { width: 100%; border-collapse: collapse; font-size: 12px; border: 1px solid #333; }
        .diff-table th { background: rgba(255,255,255,0.05); text-align: left; padding: 8px 12px; color: #aaa; font-weight: normal; border-bottom: 1px solid #333; }
        .diff-table td { padding: 8px 12px; border-bottom: 1px solid #222; color: #999; vertical-align: top; }
        
        .tag { display: inline-block; padding: 2px 6px; border-radius: 4px; background: rgba(255,255,255,0.08); color: #fff; font-size: 11px; margin-right: 8px; }
        .hl { color: var(--accent); font-weight: bold; }
        .mode-badge { font-size: 12px; padding: 4px 8px; border-radius: 4px; opacity: 0.9; }
        .badge-gain { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
        .badge-loss { background: rgba(244, 63, 94, 0.2); color: #f43f5e; }

    </style>
</head>
<body>

<div id="global-tooltip"></div>

<header>
    <div class="brand">
        AEKE LOGIC V18.0
        <div class="scenario-switch">
            <div class="switch-btn active" id="btn-gain" onclick="setMode('gain')">å¢è‚Œåœºæ™¯ (ä¸­çº§)</div>
            <div class="switch-btn" id="btn-loss" onclick="setMode('loss')">å‡é‡åœºæ™¯ (åˆçº§)</div>
        </div>
    </div>
    <div class="tabs">
        <div class="tab active" onclick="switchTab('arch')">ç³»ç»Ÿå®è§‚æ¶æ„ (System)</div>
        <div class="tab" onclick="switchTab('flow')">ç”¨æˆ·æ—…ç¨‹ (Journey)</div>
    </div>
</header>

<div id="view-arch" class="viewport active">
    <div class="arch-diagram">
        <div class="arch-col" style="border-top:3px solid var(--c-1)">
            <div class="col-tag">è¾“å…¥å±‚ Â· æ¡£æ¡ˆä¸åé¦ˆ</div>
            <div class="module" onmouseenter="showInfo('user')" onmouseleave="clearInfo()"><div class="mod-icon">ğŸ‘¤</div><div class="mod-name">ç”Ÿç†ä¸åå¥½</div></div>
            <div class="module" onmouseenter="showInfo('risk')" onmouseleave="clearInfo()"><div class="mod-icon">âš ï¸</div><div class="mod-name">é£é™©ä¸ç¦å¿Œ</div></div>
            <div class="module" onmouseenter="showInfo('feed')" onmouseleave="clearInfo()"><div class="mod-icon">ğŸ“ˆ</div><div class="mod-name">è¿åŠ¨åé¦ˆæ•°æ®</div></div>
        </div>
        <div class="arch-col" style="border-top:3px solid var(--c-4)">
            <div class="col-tag">å¤„ç†å±‚ Â· AI å¼•æ“</div>
            <div class="module" onmouseenter="showInfo('route')" onmouseleave="clearInfo()"><div class="mod-icon">ğŸ§­</div><div class="mod-name">ç­–ç•¥è·¯ç”±</div></div>
            <div class="module" onmouseenter="showInfo('phase')" onmouseleave="clearInfo()"><div class="mod-icon">ğŸ“…</div><div class="mod-name">è®¡åˆ’ä¸é˜¶æ®µ</div></div>
            <div class="module" onmouseenter="showInfo('segment')" onmouseleave="clearInfo()"><div class="mod-icon">ğŸ§©</div><div class="mod-name">ç¯èŠ‚ä¸è´Ÿè·</div></div>
            <div class="module" onmouseenter="showInfo('assembly')" onmouseleave="clearInfo()"><div class="mod-icon">âš™ï¸</div><div class="mod-name">å¾®è§‚ç»„è£…</div></div>
        </div>
        <div class="arch-col" style="border-top:3px solid var(--c-9)">
            <div class="col-tag">è¾“å‡ºå±‚ Â· äº¤ä»˜</div>
            <div class="module" onmouseenter="showInfo('plan')" onmouseleave="clearInfo()"><div class="mod-icon">ğŸ“œ</div><div class="mod-name">å‘¨æœŸè®¡åˆ’</div></div>
            <div class="module" onmouseenter="showInfo('course')" onmouseleave="clearInfo()"><div class="mod-icon">ğŸ‹ï¸</div><div class="mod-name">æ‰§è¡Œè¯¾è¡¨</div></div>
            <div class="module" onmouseenter="showInfo('loop')" onmouseleave="clearInfo()"><div class="mod-icon">ğŸ”„</div><div class="mod-name">é—­ç¯åŠ¨æ€æ›´æ–°</div></div>
        </div>
    </div>
    <div class="info-panel" id="info-box">
        <div style="height:100%; display:flex; align-items:center; justify-content:center; color:#444;">
            è¯·å°†é¼ æ ‡æ‚¬åœåœ¨ä¸Šæ–¹æ¨¡å—æŸ¥çœ‹é€šä¿—è§£é‡Šä¸æ•°æ®å…³ç³»
        </div>
    </div>
</div>

<div id="view-flow" class="viewport">
    <div class="flow-nav" id="step-list"></div>
    <div class="flow-content">
        <div class="story-header">
            <div class="story-title">
                <span id="s-title"></span>
                <span id="s-badge" class="mode-badge"></span>
            </div>
            
            <div class="narrative-box" id="s-narrative"></div>
            
            <div class="logic-desc" id="s-logic"></div>

            <div class="sub-steps-box">
                <div class="sub-step-label">æœ¬æ­¥éª¤åŒ…å«çš„äºŒçº§ä»»åŠ¡ (Sub-steps) Â· æ‚¬åœæŸ¥çœ‹PRDå®šä¹‰</div>
                <div class="sub-step-list" id="s-subs"></div>
            </div>
        </div>
        <div class="content-scroll">
            
            <div class="block-title">ä¸“ä¸šé€»è¾‘è§£æ</div>
            <table class="pro-table">
                <tbody id="s-pro"></tbody>
            </table>

            <div class="block-title">ç®—æ³•åˆ†æ”¯å·®å¼‚ (Variance Map)</div>
            <table class="diff-table">
                <thead><tr><th width="30%">åœºæ™¯ / æ¡ä»¶</th><th>å¤„ç†é€»è¾‘å·®å¼‚</th></tr></thead>
                <tbody id="s-diff"></tbody>
            </table>

        </div>
    </div>
</div>

<script>
    // --- Data: Architecture Info ---
    const archInfo = {
        'user': { t: 'ç”Ÿç†ä¸åå¥½', d: 'ç³»ç»Ÿçš„è¾“å…¥åŸºçŸ³ã€‚åŒ…å«åŸºç¡€ç”Ÿç†ä¿¡æ¯ä¸ç”¨æˆ·ä¸»è§‚æ„æ„¿ã€‚', f: 'æ€§åˆ«, BMI, RHR(é™æ¯å¿ƒç‡) | ç›®æ ‡, è®­ç»ƒæ—¥', e: 'â€œæ¯å‘¨è®­ç»ƒæ—¥â€ç›´æ¥å†³å®šæ’æ—¥ç¨‹çš„é€»è¾‘ã€‚' },
        'risk': { t: 'é£é™©ä¸ç¦å¿Œ', d: 'ç³»ç»Ÿçš„çº¢çº¿æ•°æ®åº“ã€‚å†³å®šäº†åŠ¨ä½œæ¸…æ´—çš„è§„åˆ™ã€‚', f: 'ç–¼ç—›éƒ¨ä½, ç¼ºå¤±å™¨æ¢°', e: 'è†ç›–ç—› -> æ·±è¹²ã€è·³ç®±ç­‰åŠ¨ä½œæ‹‰é»‘ã€‚' },
        'feed': { t: 'è¿åŠ¨åé¦ˆæ•°æ®', d: 'é—­ç¯æ ¸å¿ƒã€‚æ”¶é›†æ‰§è¡Œæ•°æ®åå“ºè®¡åˆ’åŠ¨æ€è°ƒæ•´ã€‚', f: 'RPE(ç–²åŠ³åº¦), å®Œæˆåº¦, é”™é¢˜é›†', e: 'RPEåä½ -> è§¦å‘æ¸è¿›è¶…è´Ÿè·é€»è¾‘ã€‚' },
        'route': { t: 'ç­–ç•¥è·¯ç”±', d: 'å†³ç­–å¤§è„‘ã€‚å…³è”ç›®æ ‡ä¸åº•å±‚é€»è¾‘åº“ã€‚', f: 'è®¡åˆ’ç±»å‹(PlanType)', e: 'ç›®æ ‡=å¢è‚Œ -> é”å®šå¢è‚Œå¡‘å½¢åº“ã€‚' },
        'phase': { t: 'è®¡åˆ’ä¸é˜¶æ®µ', d: 'æ’æœŸä¸­æ¢ã€‚ç¡®å®šå‘¨æœŸã€é˜¶æ®µå±æ€§å¹¶æ´¾å‘å•å‘¨æ¨¡æ¿ã€‚', f: 'é˜¶æ®µID, å•å‘¨æ¨¡æ¿', e: 'é€‚åº”æœŸ -> æ´¾å‘å…¨èº«å¾ªç¯æ¨¡æ¿ã€‚' },
        'segment': { t: 'ç¯èŠ‚ä¸è´Ÿè·', d: 'æ ¸å¿ƒé€»è¾‘å±‚ã€‚ç¡®å®šç¯èŠ‚ç»“æ„ã€å¾ªç¯æ¨¡å¼ä¸è´Ÿè·ç­–ç•¥ã€‚', f: 'å¾ªç¯æ¨¡å¼, è´Ÿè·ç­–ç•¥', e: 'å‡é‡åœºæ™¯ -> è®¡æ—¶ç»„+é«˜å¯†åº¦å¾ªç¯ã€‚' },
        'assembly': { t: 'å¾®è§‚ç»„è£…ä¸è¿‡æ»¤', d: 'è£…é…è½¦é—´ã€‚åŠ¨ä½œç­›é€‰ã€éš¾åº¦åŠ æƒã€è‚Œç¾¤åˆ†é…ã€‚', f: 'åŠ¨ä½œç­›é€‰, éš¾åº¦åˆ†é…', e: 'BMIè¿‡å¤§ -> å‰”é™¤é«˜å†²å‡»åŠ¨ä½œã€‚' },
        'plan': { t: 'å‘¨æœŸè®¡åˆ’', d: 'ç”Ÿæˆçš„é•¿å‘¨æœŸæ–¹æ¡ˆå®ä½“ã€‚', f: 'PlanID, é˜¶æ®µåˆ—è¡¨', e: 'åŒ…å«å®Œæ•´çš„é˜¶æ®µåˆ’åˆ†åºåˆ—ã€‚' },
        'course': { t: 'æ‰§è¡Œè¯¾è¡¨', d: 'ç”Ÿæˆçš„å•æ¬¡è®­ç»ƒå®ä½“ã€‚', f: 'çƒ­èº«/ä¸»è®­/æ”¾æ¾, è´Ÿè·(Load)', e: 'åŒ…å«å…·ä½“çš„åŠ¨ä½œåºåˆ—ã€æ¬¡æ•°ä¸é—´æ­‡ã€‚' },
        'loop': { t: 'é—­ç¯åŠ¨æ€æ›´æ–°', d: 'åŸºäºåé¦ˆæ•°æ®çš„è®¡åˆ’ä¿®æ­£ã€‚', f: 'åŠ¨æ€è°ƒæ•´', e: 'æ ‡è®°é”™é¢˜ -> ä¸‹æ¬¡åŠ å…¥çº æ­£è®­ç»ƒã€‚' }
    };

    // --- Data: 9 Steps + Substep Definitions (PRD Strict) ---
    const logicData = {
        'gain': {
            badge: 'å¢è‚Œåœºæ™¯ (ä¸­çº§)', badgeClass: 'badge-gain',
            steps: [
                {
                    title: "1. å®šæ–¹å‘ (Goal)", color: "var(--c-1)",
                    substeps: [
                        {n: "è¿åŠ¨ç›®æ ‡", d: "PRDå®šä¹‰ï¼šç”¨æˆ·çš„æ ¸å¿ƒè¯‰æ±‚ (å¢è‚Œ/å‡è„‚/å¥åº·)ï¼Œå†³å®šç®—æ³•çš„é¡¶å±‚ç­–ç•¥è·¯ç”±ã€‚"},
                        {n: "è®¡åˆ’ç±»å‹", d: "PRDå®šä¹‰ï¼šåŸºäºè¿åŠ¨ç›®æ ‡æ˜ å°„å‡ºçš„åº•å±‚ç®—æ³•åº“åˆ†ç±» (å¦‚å¢è‚Œå¡‘å½¢ã€å‡è„‚å¿ƒè‚º)ã€‚"}
                    ],
                    narrative: "â€œæ—…ç¨‹å¼€å§‹ï¼Œç”¨æˆ·è¡¨è¾¾äº†â€˜æƒ³è¦å˜å£®â€™çš„æ„¿æœ›ã€‚ç³»ç»Ÿåƒä¸€ä½è´´å¿ƒçš„æ•™ç»ƒï¼Œæ˜ç™½è¿™æ„å‘³ç€éœ€è¦ä¸“æ³¨äºåŠ›é‡æ„å»ºï¼Œäºæ˜¯å°†åº•å±‚ç­–ç•¥è°ƒæ•´ä¸ºâ€˜å¢è‚Œå¡‘å½¢â€™æ¨¡å¼ï¼Œæš‚æ—¶æç½®äº†çº¯æœ‰æ°§è®­ç»ƒã€‚â€",
                    desc: "ç”¨æˆ·è¾“å…¥ç›®æ ‡â€œå¢è‚Œâ€ã€‚ç³»ç»Ÿæ ¹æ®PRDç›®æ ‡åŒ¹é…è§„åˆ™ï¼Œå°†å…¶å…³è”åˆ°â€œå¢è‚Œå¡‘å½¢â€è®¡åˆ’ç±»å‹ï¼Œé”å®šè‚Œè‚¥å¤§ç­–ç•¥ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "ç”¨æˆ·ç›®æ ‡ = å¢è‚Œ" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "ç›®æ ‡åŒ¹é…ï¼šå¢è‚Œ -> å¢è‚Œå¡‘å½¢è®¡åˆ’ (å æ¯”100%)" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>è®¡åˆ’ç±»å‹: å¢è‚Œå¡‘å½¢ (Hypertrophy)</b>" }
                    ],
                    diff: [
                        { k: "å‡é‡åœºæ™¯", v: "ç›®æ ‡åŒ¹é… -> å‡è„‚å¿ƒè‚ºè®¡åˆ’ã€‚" },
                        { k: "å¥åº·åœºæ™¯", v: "æ··åˆé…ç½® (æœ‰æ°§/åŠ›é‡/æŸ”éŸ§å‡è¡¡)ã€‚" }
                    ]
                },
                {
                    title: "2. æ’æ—¥ç¨‹ (Schedule)", color: "var(--c-2)",
                    substeps: [
                        {n: "æ¯å‘¨è®­ç»ƒæ—¥", d: "PRDå®šä¹‰ï¼šç”¨æˆ·å‹¾é€‰çš„æ¯å‘¨ç©ºé—²æ—¥æœŸ (å¦‚å‘¨ä¸€/å‘¨ä¸‰)ã€‚å†³å®šäº†å“ªå¤©æ˜¯Active Dayã€‚"},
                        {n: "è®¡åˆ’å‘¨é¢‘", d: "PRDå®šä¹‰ï¼šæ ¹æ®è®­ç»ƒæ—¥è®¡ç®—å‡ºçš„æ¯å‘¨è®­ç»ƒå¤©æ•° (æ•´æ•°)ã€‚ç”¨äºåŒ¹é…åˆ†åŒ–æ¨¡æ¿ã€‚"}
                    ],
                    narrative: "â€œæ¥ç€ï¼Œç³»ç»ŸæŸ¥çœ‹ç”¨æˆ·çš„æ—¥ç¨‹è¡¨ã€‚ç”¨æˆ·è¿™å‘¨æœ‰4å¤©æ—¶é—´ï¼ˆå‘¨ä¸€ã€ä¸‰ã€äº”ã€æ—¥ï¼‰å¯ä»¥è®­ç»ƒã€‚ç³»ç»Ÿè´´å¿ƒåœ°é”å®šäº†è¿™4ä¸ªçª—å£ï¼Œç¡®ä¿è®­ç»ƒå®‰æ’åœ¨ç”¨æˆ·æ–¹ä¾¿çš„æ—¶é—´ã€‚â€",
                    desc: "ç³»ç»Ÿè¯»å–ç”¨æˆ·æ¡£æ¡ˆä¸­çš„â€œæ¯å‘¨è®­ç»ƒæ—¥â€ï¼Œç¡®å®šå…¨å±€è®­ç»ƒçª—å£ã€‚æ­¤æ­¥éª¤ä¸æ¶‰åŠå†…å®¹ï¼Œä»…ç¡®ç«‹æ—¶é—´æ¡†æ¶ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "è®­ç»ƒæ—¥ = [å‘¨ä¸€, å‘¨ä¸‰, å‘¨äº”, å‘¨æ—¥]" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "æ—¥å†æ˜ å°„ï¼šå°†ç”¨æˆ·æ—¶é—´æ˜ å°„è‡³å…¨å±€æ—¥å†ã€‚" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>è®¡åˆ’å‘¨é¢‘: 4å¤©/å‘¨</b>" }
                    ],
                    diff: [
                        { k: "3å¤©/å‘¨", v: "ä»…é”å®šç”¨æˆ·é€‰æ‹©çš„3å¤©ã€‚" },
                        { k: "æœªè®¾ç½®", v: "æç¤ºç”¨æˆ·å¿…é¡»è‡³å°‘é€‰æ‹©1å¤©ã€‚" }
                    ]
                },
                {
                    title: "3. å®šè®¡åˆ’ (Plan)", color: "var(--c-3)",
                    substeps: [
                        {n: "è®¡åˆ’å‘¨æœŸ", d: "PRDå®šä¹‰ï¼šç”Ÿæˆè®¡åˆ’çš„æ€»é•¿åº¦ (å¦‚4å‘¨ã€12å‘¨)ã€‚"},
                        {n: "é˜¶æ®µåˆ—è¡¨", d: "PRDå®šä¹‰ï¼šæŒ‰ç”Ÿç†é€‚åº”è§„å¾‹åˆ’åˆ†çš„æ—¶é—´æ®µ (é€‚åº”æœŸ/å¢é•¿æœŸ/çªç ´æœŸç­‰)ã€‚"}
                    ],
                    narrative: "â€œç³»ç»Ÿè§„åˆ’äº†ä¸€å¼ 12å‘¨çš„è“å›¾ã€‚è€ƒè™‘åˆ°ç”¨æˆ·å·²å…·å¤‡ä¸€å®šåŸºç¡€ï¼Œç³»ç»Ÿå†³å®šç¼©çŸ­é€‚åº”æœŸï¼Œè®©ä»–æ›´å¿«è¿›å…¥â€˜å¢é•¿æœŸâ€™ï¼Œè¿™æ˜¯è‚Œè‚‰ç”Ÿé•¿çš„é»„é‡‘é˜¶æ®µã€‚â€",
                    desc: "ç³»ç»Ÿç”Ÿæˆå…¨å±€è®¡åˆ’IDï¼Œå¹¶æ ¹æ®å¢è‚Œé€»è¾‘åˆ’åˆ†é˜¶æ®µã€‚å¢é•¿æœŸæ˜¯å¢è‚Œçš„æ ¸å¿ƒé˜¶æ®µã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "è®¡åˆ’ç±»å‹=å¢è‚Œå¡‘å½¢" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "é˜¶æ®µç”Ÿæˆï¼šç¬¬1å‘¨(é€‚åº”æœŸ) -> ç¬¬2-4å‘¨(å¢é•¿æœŸ) -> ç¬¬5å‘¨(çªç ´æœŸ)" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>é˜¶æ®µåˆ—è¡¨ (Phase List)</b>" }
                    ],
                    diff: [
                        { k: "å‡é‡åœºæ™¯", v: "åˆ’åˆ†ä¸ºé€‚åº”æœŸä¸å¼ºåŒ–æœŸã€‚é‡ç‚¹åœ¨äºå·¥ä¼‘æ¯”å˜åŒ–ã€‚" },
                        { k: "æ¢å¤éœ€æ±‚", v: "åŒ…å«â€œæ¢å¤æœŸâ€ï¼Œå¤§å¹…é™ä½å®¹é‡ã€‚" }
                    ]
                },
                {
                    title: "4. å®šé˜¶æ®µ (Phase)", color: "var(--c-4)",
                    substeps: [
                        {n: "é˜¶æ®µç›®æ ‡", d: "PRDå®šä¹‰ï¼šè¯¥é˜¶æ®µçš„ç”Ÿç†ç›®çš„ (å¦‚ç´¯ç§¯ä»£è°¢å‹åŠ›ã€å¼ºåŒ–ç¥ç»å‹Ÿé›†)ã€‚"},
                        {n: "å•å‘¨æ¨¡æ¿", d: "PRDå®šä¹‰ï¼šä¸€å‘¨å†…çš„è®­ç»ƒç»“æ„åˆ†åŒ– (å¦‚äºŒåˆ†åŒ–ã€å…¨èº«å¾ªç¯)ã€‚"}
                    ],
                    narrative: "â€œä½œä¸ºä¸­çº§ç”¨æˆ·ï¼Œä¸”ä¸€å‘¨ç»ƒ4å¤©ï¼Œç³»ç»Ÿè®¤ä¸ºâ€˜äºŒåˆ†åŒ–ï¼ˆä¸Šä¸‹è‚¢ï¼‰â€™æ˜¯æœ€ä½³é€‰æ‹©ã€‚è¿™æ ·æ—¢èƒ½ä¿è¯è¶³å¤Ÿçš„å¼ºåº¦ï¼Œåˆèƒ½è®©è‚Œè‚‰å¾—åˆ°å……åˆ†çš„ä¼‘æ¯ä¸ç”Ÿé•¿ã€‚â€",
                    desc: "åŸºäºä¸­é¢‘æ¬¡ï¼ˆ4å¤©ï¼‰å’Œä¸­çº§æ°´å¹³ï¼Œç³»ç»Ÿä¸ºå½“å‰é˜¶æ®µæ´¾å‘â€œäºŒåˆ†åŒ–â€æ¨¡æ¿ï¼Œå¾ªç¯è®­ç»ƒä¸Šè‚¢å’Œä¸‹è‚¢ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "é¢‘æ¬¡=4å¤© & ç­‰çº§=ä¸­çº§" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "åˆ†åŒ–é€»è¾‘ï¼šä¸­é¢‘+ä¸­çº§ -> <b>äºŒåˆ†åŒ–æ¨¡æ¿ (Upper/Lower Split)</b>" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>æ¨¡æ¿: ä¸Šè‚¢-ä¸‹è‚¢-ä¼‘æ¯-ä¸Šè‚¢-ä¸‹è‚¢</b>" }
                    ],
                    diff: [
                        { k: "ä½é¢‘ (1-2å¤©)", v: "æ´¾å‘<b>å…¨èº«å¾ªç¯æ¨¡æ¿</b>ã€‚é˜²æ­¢éƒ¨ä½é—´éš”å¤ªä¹…ã€‚" },
                        { k: "é«˜é¢‘ (5å¤©+)", v: "æ´¾å‘<b>äº”åˆ†åŒ– (Bro Split)</b>ï¼Œå•éƒ¨ä½æè‡´é›•åˆ»ã€‚" }
                    ]
                },
                {
                    title: "5. å®šè¯¾ç¨‹ (Course)", color: "var(--c-5)",
                    substeps: [
                        {n: "è¯¾ç¨‹æ—¶é•¿", d: "PRDå®šä¹‰ï¼šå•èŠ‚è¯¾æ‰€æœ‰ç¯èŠ‚æ—¶é•¿çš„æ€»å’Œ (Î£ç¯èŠ‚æ—¶é•¿)ã€‚"},
                        {n: "ç¯èŠ‚åˆ—è¡¨", d: "PRDå®šä¹‰ï¼šæ ‡å‡†ç»“æ„åŒ…å«çƒ­èº«ã€ä¸»è®­ã€æ”¾æ¾ã€‚"}
                    ],
                    narrative: "â€œä»Šå¤©æ˜¯â€˜ä¸Šè‚¢åŠ›é‡æ—¥â€™ã€‚ç³»ç»Ÿæ­å»ºå¥½äº†è¯¾ç¨‹çš„éª¨æ¶ï¼šå…ˆè¿›è¡Œ5åˆ†é’ŸåŠ¨æ€çƒ­èº«æ¿€æ´»å…³èŠ‚ï¼Œç„¶åæ˜¯45åˆ†é’Ÿçš„ä¸»è®­è½°ç‚¸ï¼Œæœ€åç”¨10åˆ†é’Ÿæ‹‰ä¼¸æ¥æ”¾æ¾ã€‚â€",
                    desc: "ç³»ç»Ÿç¡®å®šä»Šæ—¥è®­ç»ƒéƒ¨ä½ï¼ˆä¸Šè‚¢ï¼‰ï¼Œå¹¶æ­å»ºè¯¾ç¨‹éª¨æ¶ã€‚å¢è‚Œè¯¾åŒ…å«åŠ¨æ€çƒ­èº«ä¸é™æ€æ‹‰ä¼¸ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "ä»Šæ—¥æ¨¡æ¿=ä¸Šè‚¢" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "ç»“æ„ç”Ÿæˆï¼šåŠ¨æ€çƒ­èº«(5min) â†’ ä¸»è®­(45min) â†’ æ‹‰ä¼¸(10min)" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>è¯¾ç¨‹éª¨æ¶: ä¸Šè‚¢åŠ›é‡è¯¾</b>" }
                    ],
                    diff: [
                        { k: "å‡é‡åœºæ™¯", v: "ç»“æ„åŒ…å«ï¼šHIITå¾ªç¯ + æœ‰æ°§å†²åˆºã€‚" },
                        { k: "æ—¶é—´ç´§", v: "å‹ç¼©çƒ­èº«ä¸ç»„é—´ä¼‘æ¯æ—¶é—´ã€‚" }
                    ]
                },
                {
                    title: "6. å®šç¯èŠ‚ (Segment)", color: "var(--c-6)",
                    substeps: [
                        {n: "å¾ªç¯æ¨¡å¼", d: "PRDå®šä¹‰ï¼šå¸¸è§„ç»„(åšå®Œä¼‘)ã€å¾ªç¯ç»„(è¿ç»­åš)ã€è¶…çº§ç»„(å¯¹æŠ—è‚Œ)ã€‚"},
                        {n: "è´Ÿè·ç­–ç•¥", d: "PRDå®šä¹‰ï¼šé‡‘å­—å¡”(é‡é‡é€’å¢)ã€æ’å®šç»„ã€è®¡æ—¶ç»„(å‡è„‚ç”¨)ã€‚"}
                    ],
                    narrative: "â€œä¸ºäº†æœ€å¤§åŒ–åˆºæ¿€è‚Œè‚‰ï¼Œç³»ç»Ÿé€‰æ‹©äº†ç»å…¸çš„â€˜å¸¸è§„ç»„â€™æ¨¡å¼ï¼Œå¹¶é…åˆâ€˜æ­£é‡‘å­—å¡”â€™ç­–ç•¥ã€‚è¿™æ„å‘³ç€é‡é‡ä¼šé€æ¸å¢åŠ ï¼ŒæŒ‘æˆ˜ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§ã€‚â€",
                    desc: "ç³»ç»Ÿå®šä¹‰ç¯èŠ‚çš„æ‰§è¡Œè§„åˆ™ã€‚å¢è‚Œä¸»è®­ç¯èŠ‚é‡‡ç”¨â€œå¸¸è§„ç»„â€æ¨¡å¼ä¸â€œæ­£é‡‘å­—å¡”â€ç­–ç•¥ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "ç±»å‹=å¢è‚Œ & é˜¶æ®µ=å¢é•¿æœŸ" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "ç­–ç•¥å®šä¹‰ï¼š<b>æ¨¡å¼=å¸¸è§„ç»„, ç­–ç•¥=æ­£é‡‘å­—å¡”</b>" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>ç¯èŠ‚è§„åˆ™å®šä¹‰å®Œæ¯•</b>" }
                    ],
                    diff: [
                        { k: "å‡é‡åœºæ™¯", v: "æ¨¡å¼=å¾ªç¯ç»„, ç­–ç•¥=è®¡æ—¶ç»„ã€‚" },
                        { k: "é€‚åº”æœŸ", v: "ç­–ç•¥=æ’å®šç»„ (å›ºå®šé‡é‡ç†Ÿæ‚‰åŠ¨ä½œ)ã€‚" }
                    ]
                },
                {
                    title: "7. å¡«åŠ¨ä½œ (Action)", color: "var(--c-7)",
                    substeps: [
                        {n: "åŠ¨ä½œç­›é€‰", d: "PRDå®šä¹‰ï¼šåŸºäºç–¼ç—›éƒ¨ä½å’Œå™¨æ¢°é™åˆ¶ï¼Œå‰”é™¤é»‘åå•åŠ¨ä½œã€‚"},
                        {n: "éš¾åº¦åˆ†é…", d: "PRDå®šä¹‰ï¼šæŒ‰ç”¨æˆ·ç­‰çº§åˆ†é…åŠ¨ä½œéš¾åº¦æ¯”ä¾‹ (ä¸­çº§=20%åˆ/60%ä¸­/20%é«˜)ã€‚"},
                        {n: "è‚Œç¾¤åˆ†é…", d: "PRDå®šä¹‰ï¼šæŒ‰éƒ¨ä½åˆ†é…è‚Œç¾¤å æ¯” (å¦‚èƒ¸ä¸­æŸ40% | è‚±ä¸‰å¤´è‚Œ20%)ã€‚"}
                    ],
                    narrative: "â€œç³»ç»Ÿæ³¨æ„åˆ°ç”¨æˆ·æœ‰â€˜è‚©ç—›â€™è®°å½•ï¼Œäºæ˜¯è´´å¿ƒåœ°æŠŠâ€˜æ é“ƒæ¨ä¸¾â€™æ¢æˆäº†æ›´å®‰å…¨çš„â€˜å“‘é“ƒä¾§å¹³ä¸¾â€™ã€‚åŒæ—¶ï¼Œä½œä¸ºä¸­çº§ç”¨æˆ·ï¼Œç³»ç»Ÿå®‰æ’äº†æ›´å¤šå…·æœ‰ä¸€å®šæŒ‘æˆ˜æ€§çš„ä¸­çº§åŠ¨ä½œã€‚â€",
                    desc: "ç³»ç»Ÿä»å€™é€‰æ± ä¸­é€‰æ‹©åŠ¨ä½œã€‚æ‰§è¡Œå®‰å…¨è¿‡æ»¤ï¼Œå¹¶æŒ‰PRDæ‰§è¡Œéš¾åº¦é…æ¯”ï¼ˆ60%ä¸­çº§åŠ¨ä½œï¼‰å’Œè‚Œç¾¤é…æ¯”ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "é£é™©=è‚©ç—› & ç­‰çº§=ä¸­çº§" },
                        { k: "ç­›é€‰é€»è¾‘", v: "<b>è¿‡æ»¤</b>: å‰”é™¤æ é“ƒæ¨ä¸¾(è‚©é£é™©)ã€‚" },
                        { k: "é…æ¯”é€»è¾‘", v: "<b>éš¾åº¦</b>: ä¸­çº§60% | <b>è‚Œç¾¤</b>: èƒ¸èƒŒè‚©è‡‚å‡è¡¡åˆ†å¸ƒ" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>åŠ¨ä½œåˆ—è¡¨ (Action List)</b>" }
                    ],
                    diff: [
                        { k: "åˆçº§ç”¨æˆ·", v: "åˆçº§åŠ¨ä½œå æ¯” 60%ã€‚ç¡®ä¿å®‰å…¨æ€§ã€‚" },
                        { k: "æ— å™¨æ¢°", v: "ä»…ä¿ç•™è‡ªé‡å˜å¼åŠ¨ä½œã€‚" }
                    ]
                },
                {
                    title: "8. ç®—å‚æ•° (Parameters)", color: "var(--c-8)",
                    substeps: [
                        {n: "ç¯èŠ‚å®¹é‡", d: "PRDå®šä¹‰ï¼šå…·ä½“çš„åŠ¨ä½œæ¬¡æ•°(Reps)æˆ–æ—¶é•¿ã€‚"},
                        {n: "ç¯èŠ‚æ—¶é•¿", d: "PRDå®šä¹‰ï¼šæ€»è®­ç»ƒæ—¶é•¿è®¡ç®— (åŒ…å«ä¼‘æ¯)ã€‚"},
                        {n: "ç»„é—´ä¼‘æ¯", d: "PRDå®šä¹‰ï¼šç»„ä¸ç»„ä¹‹é—´çš„ä¼‘æ¯æ—¶é—´ã€‚"}
                    ],
                    narrative: "â€œç»†èŠ‚å†³å®šæˆè´¥ã€‚ç³»ç»Ÿè®¡ç®—å‡ºäº†ç²¾å‡†çš„å‚æ•°ï¼šæ¯ä¸ªåŠ¨ä½œåš4ç»„ï¼Œæ¬¡æ•°ä»12æ¬¡é€’å‡åˆ°8æ¬¡ï¼Œç»„é—´ä¼‘æ¯90ç§’ï¼Œç¡®ä¿ç”¨æˆ·æœ‰è¶³å¤Ÿçš„åŠ›æ°”å®Œæˆä¸‹ä¸€ç»„ã€‚â€",
                    desc: "åŸºäºâ€œå®šç¯èŠ‚â€ç¡®å®šçš„é‡‘å­—å¡”ç­–ç•¥ï¼Œè®¡ç®—å…·ä½“çš„ç»„æ•°ã€æ¬¡æ•°å’Œé—´æ­‡æ—¶é—´ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "ç­–ç•¥=æ­£é‡‘å­—å¡” & é˜¶æ®µ=å¢é•¿æœŸ" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "å‚æ•°è®¡ç®—ï¼šWeightâ†‘ Repsâ†“ (12-10-10-8) | Rest: 90s" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>æœ€ç»ˆæ‰§è¡ŒæŒ‡ä»¤ (Final Command)</b>" }
                    ],
                    diff: [
                        { k: "å‡é‡åœºæ™¯", v: "è®¡ç®—å·¥ä¼‘æ¯” (å¦‚åš30s/ä¼‘45s)ã€‚" },
                        { k: "å•è¾¹åŠ¨ä½œ", v: "æ—¶é•¿/æ¬¡æ•° x 2ã€‚" }
                    ]
                },
                {
                    title: "9. é—­ç¯ç»“ç®— (Loop)", color: "var(--c-9)",
                    substeps: [
                        {n: "RPEåé¦ˆ", d: "PRDå®šä¹‰ï¼šç”¨æˆ·çš„ä¸»è§‚ç–²åŠ³åº¦è¯„åˆ† (1-10)ã€‚"},
                        {n: "åŠ¨æ€è°ƒæ•´", d: "PRDå®šä¹‰ï¼šåŸºäºåé¦ˆè°ƒæ•´ä¸‹ä¸€æ¬¡è®¡åˆ’çš„è´Ÿè·æˆ–åŠ¨ä½œã€‚"}
                    ],
                    narrative: "â€œè®­ç»ƒç»“æŸåï¼Œç”¨æˆ·åé¦ˆâ€˜æ„Ÿè§‰æœ‰ç‚¹è½»æ¾â€™ã€‚ç³»ç»Ÿé»˜é»˜è®°ä¸‹äº†è¿™ä¸€ç‚¹ï¼Œå¹¶å†³å®šåœ¨ä¸‹å‘¨çš„è®¡åˆ’ä¸­å¢åŠ ä¸€ç‚¹é‡é‡ï¼Œå¸®åŠ©ç”¨æˆ·æŒç»­çªç ´ã€‚â€",
                    desc: "è®­ç»ƒç»“æŸï¼Œæ”¶é›†RPEå’Œé”™é¢˜æ•°æ®ã€‚è‹¥ç”¨æˆ·åé¦ˆâ€œå¤ªè½»æ¾â€ï¼Œä¸‹å‘¨è‡ªåŠ¨åŠ é‡ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "åé¦ˆ: RPE < 6 (è½»æ¾)" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "æ¸è¿›è¶…è´Ÿè·ï¼šNext Weight += 2.5kg" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>æ›´æ–°ç”¨æˆ·æ¡£æ¡ˆ (1RM)</b>" }
                    ],
                    diff: [
                        { k: "åŠ¨ä½œç–¼ç—›", v: "æ ‡è®°é£é™©ï¼Œä¸‹æ¬¡è‡ªåŠ¨é™é˜¶æˆ–æ›¿æ¢ã€‚" },
                        { k: "å¸¸é”™åŠ¨ä½œ", v: "æ ‡è®°é”™é¢˜ï¼Œä¸‹æ¬¡åŠ å…¥çº æ­£è®­ç»ƒã€‚" }
                    ]
                }
            ]
        },
        'loss': {
            badge: 'å‡é‡åœºæ™¯ (åˆçº§)', badgeClass: 'badge-loss',
            steps: [
                {
                    title: "1. å®šæ–¹å‘ (Goal)", color: "var(--c-1)",
                    substeps: [{n:"è¿åŠ¨ç›®æ ‡",d:"PRDå®šä¹‰ï¼šä¸€çº§ç›®æ ‡(å¢è‚Œ/å‡è„‚/å¥åº·)ã€‚æ˜¯ç®—æ³•åˆ†æµçš„ç¬¬ä¸€é“é—¸é—¨ã€‚"}, {n:"è®¡åˆ’ç±»å‹",d:"PRDå®šä¹‰ï¼šä¸ç›®æ ‡å­˜åœ¨æ˜ å°„å…³ç³»ã€‚å¦‚â€œå¢è‚Œå¡‘å½¢â€æˆ–â€œå‡è„‚å¿ƒè‚ºâ€ã€‚"}],
                    narrative: "â€œç”¨æˆ·æƒ³è¦â€˜å‡é‡â€™ã€‚ç³»ç»Ÿç«‹åˆ»åˆ‡æ¢åˆ°äº†â€˜ç‡ƒçƒ§æ¨¡å¼â€™ï¼Œå°†ç­–ç•¥é‡å¿ƒä»åŠ›é‡å¯¹æŠ—è½¬ç§»åˆ°äº†å¿ƒç‡ç»´æŒå’Œçƒ­é‡æ¶ˆè€—ä¸Šã€‚â€",
                    desc: "ç”¨æˆ·é€‰æ‹©â€œå‡é‡â€ã€‚ç³»ç»Ÿé”å®šå‡è„‚å¿ƒè‚ºè®¡åˆ’ã€‚ç­–ç•¥è½¬å˜ä¸ºä¼˜å…ˆæ¶ˆè€—çƒ­é‡ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "ç”¨æˆ·ç›®æ ‡ = å‡é‡" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "ç›®æ ‡åŒ¹é… -> å‡è„‚å¿ƒè‚ºè®¡åˆ’" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>Plan Type: å‡è„‚å¿ƒè‚º</b>" }
                    ]
                },
                {
                    title: "2. æ’æ—¥ç¨‹ (Schedule)", color: "var(--c-2)",
                    substeps: [{n:"æ¯å‘¨è®­ç»ƒæ—¥",d:"PRDå®šä¹‰ï¼šç”¨æˆ·å‹¾é€‰çš„æ¯å‘¨ç©ºé—²æ—¥æœŸã€‚å†³å®šäº†å“ªå¤©æ˜¯Active Dayã€‚"}, {n:"è®¡åˆ’å‘¨é¢‘",d:"PRDå®šä¹‰ï¼šæ ¹æ®è®­ç»ƒæ—¥è®¡ç®—å‡ºçš„æ¯å‘¨è®­ç»ƒå¤©æ•°ã€‚ç”¨äºåŒ¹é…åˆ†åŒ–æ¨¡æ¿ã€‚"}],
                    narrative: "â€œç”¨æˆ·æ˜¯ä¸ªåˆå­¦è€…ï¼Œæ¯å‘¨åªèƒ½æŠ½å‡º3å¤©æ—¶é—´ã€‚ç³»ç»Ÿéå¸¸çæƒœè¿™å®è´µçš„3æ¬¡æœºä¼šï¼Œåˆ†åˆ«é”å®šåœ¨äº†å‘¨ä¸€ã€ä¸‰ã€äº”ã€‚â€",
                    desc: "ç”¨æˆ·æ˜¯åˆçº§ï¼Œæ¯å‘¨ä»…3å¤©å¯ç”¨ï¼ˆä¸€ã€ä¸‰ã€äº”ï¼‰ã€‚ç³»ç»Ÿé”å®šè¿™ä¸‰å¤©ä¸ºè®­ç»ƒæ—¥ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "è®­ç»ƒæ—¥ = [Mon, Wed, Fri]" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>å‘¨é¢‘æ¬¡: 3å¤©/å‘¨</b>" }
                    ]
                },
                {
                    title: "3. å®šè®¡åˆ’ (Plan)", color: "var(--c-3)",
                    substeps: [{n:"è®¡åˆ’å‘¨æœŸ",d:"PRDå®šä¹‰ï¼šç”Ÿæˆè®¡åˆ’çš„æ€»é•¿åº¦ã€‚"}, {n:"é˜¶æ®µåˆ—è¡¨",d:"PRDå®šä¹‰ï¼šæŒ‰ç”Ÿç†è§„å¾‹åˆ’åˆ†çš„æ—¶é—´æ®µã€‚"}],
                    narrative: "â€œç³»ç»Ÿä¸ºç”¨æˆ·è§„åˆ’äº†å››å‘¨çš„å‡è„‚æ—…ç¨‹ã€‚ç¬¬ä¸€å‘¨è®¾å®šä¸ºâ€˜é€‚åº”æœŸâ€™ï¼Œç›®çš„æ˜¯è®©èº«ä½“å…ˆåŠ¨èµ·æ¥ï¼Œè€Œä¸æ˜¯ä¸€ä¸‹å­æŠŠç”¨æˆ·ç´¯å®ã€‚â€",
                    desc: "ç³»ç»Ÿç”Ÿæˆå‡è„‚å‘¨æœŸè®¡åˆ’ã€‚åˆ’åˆ†ä¸ºé€‚åº”æœŸä¸å¼ºåŒ–æœŸã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "è®¡åˆ’ç±»å‹=å‡è„‚å¿ƒè‚º" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "é˜¶æ®µç”Ÿæˆï¼šç¬¬1å‘¨(é€‚åº”æœŸ) -> ç¬¬2-4å‘¨(å¼ºåŒ–æœŸ)" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>é˜¶æ®µåˆ—è¡¨ç”Ÿæˆå®Œæ¯•</b>" }
                    ]
                },
                {
                    title: "4. å®šé˜¶æ®µ (Phase)", color: "var(--c-4)",
                    substeps: [{n:"é˜¶æ®µç›®æ ‡",d:"PRDå®šä¹‰ï¼šè¯¥é˜¶æ®µçš„ç”Ÿç†ç›®çš„ã€‚"}, {n:"å•å‘¨æ¨¡æ¿",d:"PRDå®šä¹‰ï¼šä¸€å‘¨å†…çš„è®­ç»ƒç»“æ„åˆ†åŒ–ã€‚"}],
                    narrative: "â€œæ—¢ç„¶åªæœ‰3å¤©ï¼Œé‚£å°±å¿…é¡»é«˜æ•ˆã€‚ç³»ç»Ÿæ´¾å‘äº†â€˜å…¨èº«å¾ªç¯â€™æ¨¡æ¿ï¼Œç¡®ä¿æ¯æ¬¡è®­ç»ƒéƒ½èƒ½è°ƒåŠ¨å…¨èº«è‚Œè‚‰ï¼Œæœ€å¤§åŒ–ä»£è°¢ç‡ã€‚â€",
                    desc: "å› é¢‘æ¬¡ä½ï¼ˆ3å¤©ï¼‰ï¼Œç³»ç»Ÿæ´¾å‘â€œå…¨èº«å¾ªç¯â€æ¨¡æ¿ã€‚ç¡®ä¿æ¯æ¬¡è®­ç»ƒéƒ½èƒ½ç»´æŒå…¨èº«ä»£è°¢æ°´å¹³ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "é¢‘æ¬¡=3å¤© & ç­‰çº§=åˆçº§" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "åˆ†åŒ–é€»è¾‘ï¼šä½é¢‘ -> <b>å…¨èº«å¾ªç¯æ¨¡æ¿ (Full Body)</b>" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>æ¨¡æ¿: å…¨èº«-å…¨èº«-å…¨èº«</b>" }
                    ]
                },
                {
                    title: "5. å®šè¯¾ç¨‹ (Course)", color: "var(--c-5)",
                    substeps: [{n:"è¯¾ç¨‹æ—¶é•¿",d:"PRDå®šä¹‰ï¼šå•èŠ‚è¯¾æ‰€æœ‰ç¯èŠ‚æ—¶é•¿çš„æ€»å’Œã€‚"}, {n:"ç¯èŠ‚åˆ—è¡¨",d:"PRDå®šä¹‰ï¼šæ ‡å‡†ç»“æ„åŒ…å«çƒ­èº«ã€ä¸»è®­ã€æ”¾æ¾ã€‚"}],
                    narrative: "â€œä»Šå¤©çš„è¯¾ç¨‹è®¾è®¡éå¸¸ç´§å‡‘ã€‚ç³»ç»Ÿæ„å»ºäº†ä»¥HIITå¾ªç¯ä¸ºä¸»çš„éª¨æ¶ï¼Œä¸­é—´ç©¿æ’æœ‰æ°§å†²åˆºï¼Œæ—¨åœ¨è®©ç”¨æˆ·åœ¨çŸ­æ—¶é—´å†…å¤§æ±—æ·‹æ¼“ã€‚â€",
                    desc: "ç³»ç»Ÿæ„å»ºHIITè¯¾ç¨‹éª¨æ¶ã€‚ç»“æ„ä¸ºå¤šåŠ¨ä½œå¾ªç¯ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "ç±»å‹=HIIT & éƒ¨ä½=å…¨èº«" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "ç»“æ„ç”Ÿæˆï¼šå…³èŠ‚çƒ­èº« â†’ HIITå¾ªç¯ â†’ æ”¾æ¾" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>è¯¾ç¨‹éª¨æ¶: HIIT Circuit</b>" }
                    ]
                },
                {
                    title: "6. å®šç¯èŠ‚ (Segment)", color: "var(--c-6)",
                    substeps: [{n:"å¾ªç¯æ¨¡å¼",d:"PRDå®šä¹‰ï¼šå¸¸è§„ç»„ã€å¾ªç¯ç»„ã€è¶…çº§ç»„ã€‚"}, {n:"è´Ÿè·ç­–ç•¥",d:"PRDå®šä¹‰ï¼šé‡‘å­—å¡”ã€æ’å®šç»„ã€è®¡æ—¶ç»„ã€‚"}],
                    narrative: "â€œåœ¨å‡è„‚è¯¾é‡Œï¼Œæˆ‘ä»¬ä¸æ•°ä¸ªæ•°ï¼Œåªçœ‹æ—¶é—´ï¼ç³»ç»Ÿè®¾å®šäº†â€˜è®¡æ—¶ç»„â€™ç­–ç•¥ï¼Œåš45ç§’ï¼Œæ­‡15ç§’ï¼Œä¿æŒé«˜å¯†åº¦èŠ‚å¥ã€‚â€",
                    desc: "å‡é‡åœºæ™¯ä¸‹ï¼Œç³»ç»Ÿå®šä¹‰å¼ºåº¦ä¸ºâ€œè®¡æ—¶ï¼ˆTimeï¼‰â€ï¼Œé‡‡ç”¨â€œå¾ªç¯ç»„â€æ¨¡å¼ï¼Œä»¥åŠâ€œè®¡æ—¶ç»„â€è´Ÿè·ç­–ç•¥ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "ç±»å‹=å‡è„‚ & é˜¶æ®µ=é€‚åº”æœŸ" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "ç­–ç•¥å®šä¹‰ï¼š<b>æ¨¡å¼=å¾ªç¯ç»„, ç­–ç•¥=è®¡æ—¶ç»„</b>" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>ç¯èŠ‚è§„åˆ™å®šä¹‰å®Œæ¯•</b>" }
                    ]
                },
                {
                    title: "7. å¡«åŠ¨ä½œ (Action)", color: "var(--c-7)",
                    substeps: [{n:"åŠ¨ä½œç­›é€‰",d:"PRDå®šä¹‰ï¼šå‰”é™¤é£é™©åŠ¨ä½œã€‚"}, {n:"éš¾åº¦åˆ†é…",d:"PRDå®šä¹‰ï¼šæŒ‰ç­‰çº§åˆ†é…éš¾åº¦ã€‚"}],
                    narrative: "â€œç³»ç»Ÿæ£€æµ‹åˆ°ç”¨æˆ·å±äºå¤§ä½“é‡äººç¾¤ï¼Œè·³è·ƒä¼šå¯¹è†ç›–é€ æˆè´Ÿæ‹…ã€‚äºæ˜¯è´´å¿ƒåœ°æŠŠâ€˜æ³¢æ¯”è·³â€™è¸¢æ‰äº†ï¼Œæ¢æˆäº†åŒæ ·ç‡ƒè„‚ä½†æ— å†²å‡»çš„â€˜æˆ˜ç»³â€™ã€‚â€",
                    desc: "å¡«å…¥åŠ¨ä½œã€‚åˆçº§ç”¨æˆ·åŒ¹é…60%çš„åˆçº§åŠ¨ä½œã€‚æ£€æµ‹åˆ°BMI>29ï¼Œå‰”é™¤é«˜å†²å‡»åŠ¨ä½œï¼ˆå¦‚æ³¢æ¯”è·³ï¼‰ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "BMI>29 & ç­‰çº§=åˆçº§" },
                        { k: "ç­›é€‰é€»è¾‘", v: "<b>è¿‡æ»¤</b>: å‰”é™¤æ³¢æ¯”è·³(é«˜å†²å‡»)ã€‚" },
                        { k: "é…æ¯”é€»è¾‘", v: "<b>éš¾åº¦</b>: åˆçº§60% | ä¸­çº§30% | é«˜çº§10%" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>åŠ¨ä½œåˆ—è¡¨ (ä½éš¾åº¦/æ— å†²å‡»)</b>" }
                    ]
                },
                {
                    title: "8. ç®—å‚æ•° (Parameters)", color: "var(--c-8)",
                    substeps: [{n:"ç¯èŠ‚å®¹é‡",d:"PRDå®šä¹‰ï¼šåŠ¨ä½œæ—¶é•¿æˆ–æ¬¡æ•°ã€‚"}, {n:"ç»„é—´ä¼‘æ¯",d:"PRDå®šä¹‰ï¼šç»„é—´é—´æ­‡ã€‚"}],
                    narrative: "â€œè®¡ç®—å®Œæ¯•ï¼šæ¯ç»„è¿åŠ¨30ç§’ï¼Œä¼‘æ¯45ç§’ã€‚è¿™ä¸ªâ€˜å·¥ä¼‘æ¯”â€™æ—¢èƒ½ä¿è¯ç‡ƒè„‚æ•ˆæœï¼Œåˆèƒ½è®©åˆå­¦è€…åšæŒä¸‹æ¥ï¼Œä¸è‡³äºåŠé€”è€ŒåºŸã€‚â€",
                    desc: "åŸºäºâ€œè®¡æ—¶ç»„â€ç­–ç•¥ï¼Œè®¡ç®—å·¥ä¼‘æ¯”ã€‚é€‚åº”æœŸè®¾å®šä¸º 1:1.5ï¼ˆåš30ç§’ä¼‘45ç§’ï¼‰ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "ç­–ç•¥=è®¡æ—¶ç»„ & é˜¶æ®µ=é€‚åº”æœŸ" },
                        { k: "æ ¸å¿ƒé€»è¾‘", v: "å‚æ•°è®¡ç®—ï¼šWork 30s / Rest 45s" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>å·¥ä¼‘æ¯”è®¾å®šå®Œæ¯•</b>" }
                    ],
                    diff: [
                        { k: "å¼ºåŒ–æœŸ", v: "å·¥ä¼‘æ¯”è°ƒæ•´ä¸º 1:1 (åš30s/ä¼‘30s) ä»¥æå‡å¼ºåº¦ã€‚" }
                    ]
                },
                {
                    title: "9. é—­ç¯ç»“ç®— (Loop)", color: "var(--c-9)",
                    substeps: [{n:"RPEåé¦ˆ",d:"PRDå®šä¹‰ï¼šç–²åŠ³åº¦è¯„åˆ†ã€‚"}, {n:"åŠ¨æ€è°ƒæ•´",d:"PRDå®šä¹‰ï¼šçº æ­£ä¸è¿›é˜¶ã€‚"}],
                    narrative: "â€œæ·±è¹²çš„æ—¶å€™è†ç›–å†…æ‰£äº†ï¼Ÿæ²¡å…³ç³»ï¼Œç³»ç»Ÿå·²ç»è®°å½•ä¸‹æ¥äº†ã€‚ä¸‹èŠ‚è¯¾çš„çƒ­èº«ç¯èŠ‚ï¼Œä¼šè‡ªåŠ¨åŠ å…¥â€˜å¼¹åŠ›å¸¦çº æ­£â€™ï¼Œå¸®ç”¨æˆ·æŠŠåŠ¨ä½œæ”¹å¯¹ã€‚â€",
                    desc: "ç›‘æµ‹åˆ°æ·±è¹²è†å†…æ‰£ã€‚ç³»ç»Ÿæ ‡è®°é”™é¢˜ï¼Œä¸‹æ¬¡çƒ­èº«åŠ å…¥å¼¹åŠ›å¸¦çº æ­£ã€‚",
                    pro: [
                        { k: "è¾“å…¥æ•°æ®", v: "é”™è¯¯ç›‘æµ‹: è†å†…æ‰£" },
                        { k: "è¾“å‡ºç»“æœ", v: "<b>ä¸‹èŠ‚è¯¾çƒ­èº«åŠ å…¥å¼¹åŠ›å¸¦çº æ­£</b>" }
                    ]
                }
            ]
        }
    };

    let currMode = 'gain';
    let currStepIdx = 0;

    function init() { renderFlowNav(); updateFlowContent(); }
    
    function switchTab(id) {
        document.querySelectorAll('.viewport').forEach(e => e.classList.remove('active'));
        document.getElementById('view-' + id).classList.add('active');
        document.querySelectorAll('.tab').forEach(e => e.classList.remove('active'));
        event.target.classList.add('active');
    }

    function showInfo(key) {
        const d = archInfo[key];
        const box = document.getElementById('info-box');
        box.classList.add('visible');
        box.innerHTML = `<div class="info-title"><span style="color:var(--accent)">${d.t}</span></div><div class="info-desc">${d.d}</div><div class="info-meta"><div class="meta-item"><b>æ ¸å¿ƒå­—æ®µ</b>${d.f}</div><div class="meta-item"><b>é€šä¿—è§£é‡Š</b>${d.e}</div></div>`;
    }
    function clearInfo() { document.getElementById('info-box').classList.remove('visible'); }

    function setMode(mode) {
        currMode = mode;
        document.querySelectorAll('.switch-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + mode).classList.add('active');
        updateFlowContent();
    }

    function renderFlowNav() {
        const list = document.getElementById('step-list');
        const steps = logicData['gain'].steps; 
        list.innerHTML = '';
        steps.forEach((s, i) => {
            const btn = document.createElement('div');
            btn.className = `flow-btn ${i===currStepIdx?'active':''}`;
            btn.onclick = () => { currStepIdx = i; renderFlowNav(); updateFlowContent(); };
            btn.innerHTML = `<div class="flow-idx" style="color:${s.color}; border-color:${s.color}">${i+1}</div><div style="font-size:13px; font-weight:bold; color:${s.color}">${s.title.split(' ')[1]}</div>`;
            list.appendChild(btn);
        });
    }

    function updateFlowContent() {
        const data = logicData[currMode].steps[currStepIdx];
        const badgeData = logicData[currMode];
        
        document.querySelectorAll('.flow-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.flow-btn')[currStepIdx].classList.add('active');

        document.getElementById('s-title').innerText = data.title;
        document.getElementById('s-title').style.color = data.color;
        
        const badge = document.getElementById('s-badge');
        badge.innerText = badgeData.badge;
        badge.className = `mode-badge ${badgeData.badgeClass}`;

        document.getElementById('s-narrative').innerText = data.narrative;
        document.getElementById('s-logic').innerText = data.desc;
        
        // Render Sub-steps (Dictionary)
        const subs = document.getElementById('s-subs');
        subs.innerHTML = data.substeps.map(sub => `
            <div class="sub-item" onmouseenter="showTooltip(this, '${sub.d}')" onmouseleave="hideTooltip()">
                ${sub.n}
            </div>
        `).join('');

        const pro = document.getElementById('s-pro');
        pro.innerHTML = data.pro ? data.pro.map(r => `<tr><td class="pro-label">${r.k}</td><td>${r.v}</td></tr>`).join('') : '';

        const diff = document.getElementById('s-diff');
        diff.innerHTML = data.diff ? data.diff.map(r => `<tr><td><span class="tag">${r.k}</span></td><td>${r.v}</td></tr>`).join('') : '';
    }

    // Tooltip Logic
    const tooltip = document.getElementById('global-tooltip');
    function showTooltip(el, text) {
        const rect = el.getBoundingClientRect();
        tooltip.innerHTML = text;
        tooltip.style.left = rect.left + 'px';
        
        // Position on top of element
        const topPos = rect.top - tooltip.offsetHeight - 10;
        tooltip.style.top = (topPos > 0 ? topPos : rect.bottom + 10) + 'px';
        
        tooltip.style.opacity = 1;
    }
    function hideTooltip() {
        tooltip.style.opacity = 0;
    }

    init();
</script>
</body>
</html>