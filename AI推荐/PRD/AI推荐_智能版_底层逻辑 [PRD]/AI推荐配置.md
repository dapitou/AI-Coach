# AI推荐配置
> **定义**：AI推荐引擎的参数化配置中心，采用分层架构设计，支持运营动态下发。
> **架构**：宏观规划 -> 中观课程 -> 微观适配 -> 推荐算法

## 目录索引
*   **一、 宏观规划配置**
    *   1.1 阶段周期分配配置
    *   1.2 计划阶段模板配置
*   **二、 中观课程配置**
    *   2.1 训练范式配置
    *   2.2 策略矩阵配置
    *   2.3 课程环节模板配置
*   **三、 微观适配配置**
    *   3.1 等级强度系数配置
    *   3.2 难度兼容策略配置
    *   3.3 状态适配配置
*   **四、 推荐算法配置**
    *   4.1 推荐影响因子配置

## 一、 宏观规划配置
> **作用**：定义计划的时间跨度、阶段划分与周排课骨架。

### 1.1 阶段周期分配配置
> **定义**：定义计划各阶段的时长比例与裁剪逻辑。
> **用途**：确保不同周期的计划都能包含合理的训练阶段（适应/进阶/突破/减载）。
> **规则**：要求存在的每个阶段最少1周，此基础上尽量满足比例要求。例5周计划：1、2、1、1

| 计划周期 (周) | 阶段结构 | 分配策略 | 说明 |
| :--- | :--- | :--- | :--- |
| **1** | `[进阶期]` | `[1.0]` | 快速体验 (进阶期) |
| **2** | `[适应期, 进阶期]` | `[0.5, 0.5]` | 简易周期 (适应->进阶) |
| **3** | `[适应期, 进阶期, 突破期]` | `[0.33, 0.33, 0.33]` | 完整进阶 (适应->进阶->突破) |
| **4 (标准)** | `[适应期, 进阶期, 突破期, 减载期]` | `[0.25, 0.25, 0.25, 0.25]` | 标准线性周期 |
| **> 4** | `[适应期, 进阶期, 突破期, 减载期]` | `[0.25, 0.40, 0.25, 0.10]` | 长周期规划 |

### 1.2 计划阶段模板配置
> **定义**：定义计划中每个阶段的周排课模式（如“推拉腿”、“上下肢分化”）。
> **用途**：作为计划生成的骨架，决定每周练什么。
> **关联**：`基础槽位` -> 关联 `[2.3 课程环节模板]` 的 `模板键`。

| 模板名称 | 适用目标 | 适用难度 | 适用性别 | 周频 | 基础槽位 | 补充策略 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **一分化 (全身)** | 增肌 | 不限 | 不限 | 1 | `[全身]` | 循环 |
| **二分化 (上下肢)** | 增肌 | 不限 | 不限 | 2 | `[上肢日, 下肢日]` | 循环 |
| **三分化 (推拉腿)** | 增肌 | 不限 | 男 | 3 | `[推力日, 拉力日, 腿部日]` | 循环 |
| **三分化 (臀腿侧重)** | 增肌 | 不限 | 女 | 3 | `[臀部, 上肢日, 臀部]` | 循环 |
| **四分化 (非线性)** | 增肌 | 不限 | 不限 | 4 | `[上肢日, 下肢日, 上肢日, 下肢日]` | 循环 |
| **五分化 (单部位)** | 增肌 | 不限 | 男 | 5 | `[胸部, 背部, 肩部, 腿部, 手臂]` | 循环 |
| **减脂循环** | 减脂 | L1 | 不限 | 3 | `[HIIT燃脂, 减脂, 核心]` | 循环 |

## 二、 中观课程配置
> **作用**：定义单次课程的物理规则、基准参数与内容结构。

### 2.1 训练范式配置
> **定义**：定义不同课程类型的底层逻辑范式（如力量课关注组数，瑜伽课关注流式体验）。
> **用途**：作为顶层分流逻辑，决定环节参数的默认值和动作排序逻辑。

| 训练范式 | 课程类型映射 | 循环模式 | 负荷策略 | 休息配置 | 强制组数 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **抗阻范式** | 力量, 康复, 高尔夫 | 常规组 | 推荐 | 是 | - |
| **间歇范式** | HIIT, 有氧, 搏击 | 循环组 | 计时 | 是 | - |
| **流式范式** | 瑜伽, 普拉提, 拉伸 | 常规组 | 计时 | 否 | 1 |

### 2.2 策略矩阵配置
> **定义**：定义不同目标下的基准训练参数（如组数、休息、强度）。
> **用途**：作为生成课程时的核心参数基准，后续会根据用户等级进行系数缩放。
> **映射**：`目标` -> `[计划属性].计划功能目标`

| 目标 | 动作组数 | 休息配置 | 组间休息(s) | 轮间休息(s) | 训练强度 | 循环模式 | 负荷策略 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **增肌** | 4 | 休息 | 90 | - | 0.75 | 常规组 | 递增 |
| **力量** | 5 | 休息 | 120 | - | 0.85 | 常规组 | 恒定 |
| **减脂** | 4 | 休息 | 30 | 60 | 0.65 | 循环组 | 计时 |
| **耐力** | 4 | 休息 | 15 | 45 | 0.50 | 超级组 | 计时 |
| **爆发** | 4 | 休息 | 150 | - | 0.70 | 常规组 | 递增 |
| **心肺** | 4 | 休息 | 20 | 45 | 0.65 | 循环组 | 计时 |
| **HIIT** | 6 | 休息 | 30 | 60 | 0.75 | 循环组 | 计时 |
| **有氧** | 4 | 休息 | 15 | 30 | 0.60 | 循环组 | 计时 |
| **瑜伽** | 1 | 不休息 | - | - | 0.40 | 常规组 | 计时 |
| **普拉提** | 3 | 休息 | 30 | - | 0.50 | 常规组 | 恒定 |
| **拉伸** | 1 | 不休息 | - | - | 0.20 | 常规组 | 计时 |
| **恢复** | 2 | 不休息 | - | - | 0.30 | 常规组 | 恒定 |
| **柔韧** | 2 | 不休息 | - | - | 0.30 | 常规组 | 计时 |
| **协调** | 3 | 休息 | 60 | - | 0.50 | 常规组 | 恒定 |
| **体态** | 3 | 休息 | 45 | - | 0.50 | 常规组 | 计时 |
| **激活** | 2 | 不休息 | - | - | 0.40 | 常规组 | 恒定 |
| **平衡** | 3 | 休息 | 60 | - | 0.50 | 常规组 | 恒定 |
| **专项** | 3 | 休息 | 90 | - | 0.70 | 常规组 | 推荐 |

### 2.3 课程环节模板配置
> **定义**：定义单节课的“配方”，即动作槽位的构成与比例。
> **用途**：决定课程内容的结构（如：练胸日 = 40%水平推 + 40%垂直推 + 20%三头肌）。
> **逻辑**：详见 `[课程生成逻辑.md] - [Node 3: 环节确认]`。
> **槽位语法**：`维度:目标(权重)` (例如 `动作模式:水平推(0.4)` 表示 动作模式为水平推，权重0.4)

| 模板键 (Key) | 适用等级 | 适用性别 | 适用目标 | 动作槽位配置 (按顺序填充) |
| :--- | :--- | :--- | :--- | :--- |
| **全身** | All | All | All | 动作构造:复合动作(0.6), 动作构造:孤立动作(0.4) |

| **[策略维度 - 推拉腿分化]** |  |  |  |  |
| **推力日** | All | All | All | 动作模式:水平推(0.4), 动作模式:垂直推(0.4), 主动肌:肱三头肌(0.2) |
| **拉力日** | All | All | All | 动作模式:垂直拉(0.4), 动作模式:水平拉(0.4), 主动肌:肱二头肌(0.2) |
| **腿部日** | All | All | All | 动作模式:膝主导(0.4), 动作模式:髋主导(0.4), 主动肌:小腿(0.1), 部位:核心(0.1) |

| **[策略维度 - 上下肢分化]** |  |  |  |  |
| **上肢日** | All | All | All | 动作模式:水平推(0.2), 动作模式:垂直推(0.2), 动作模式:水平拉(0.2), 动作模式:垂直拉(0.2), 部位:手臂(0.2) |
| **下肢日** | All | All | All | 动作模式:膝主导(0.4), 动作模式:髋主导(0.4), 动作模式:弓步(0.1), 部位:核心(0.1) |

| **[解剖维度 - 部位训练]** |  |  |  |  |
| **胸部** | L1,L2 | All | All | 主动肌:胸大肌中束(0.4), 主动肌:胸大肌上束(0.4), 主动肌:胸大肌下束(0.1), 主动肌:胸大肌内侧(0.1) |
| **胸部** | L3-L5 | All | All | 动作模式:水平推(0.6), 动作模式:夹胸(0.2), 主动肌:肱三头肌(0.2) |
| **臀部** | All | 女 | All | 动作模式:髋主导(0.5), 动作模式:弓步(0.3), 主动肌:臀中肌(0.2) |
| **臀部** | All | 男 | All | 主动肌:臀大肌(0.65), 主动肌:臀中肌(0.35) |
| **背部** | L1,L2 | All | All | 主动肌:背阔肌(0.4), 主动肌:斜方肌(0.4), 主动肌:竖脊肌(0.2) |
| **背部** | L3-L5 | All | All | 动作模式:垂直拉(0.5), 动作模式:水平拉(0.3), 主动肌:肱二头肌(0.2) |
| **肩部** | L1,L2 | All | All | 主动肌:三角肌中束(0.5), 主动肌:三角肌前束(0.3), 主动肌:三角肌后束(0.2) |
| **肩部** | L3-L5 | All | All | 动作模式:垂直推(0.4), 主动肌:三角肌中束(0.4), 主动肌:三角肌后束(0.2) |
| **手臂** | L1,L2 | All | All | 动作构造:孤立动作(0.8), 动作构造:复合动作(0.2) |
| **手臂** | L3-L5 | All | All | 主动肌:肱三头肌(0.6), 主动肌:肱二头肌(0.4) |
| **腿部** | L1,L2 | All | All | 动作构造:固定器械(0.5), 动作模式:膝主导(0.3), 动作模式:髋主导(0.2) |
| **腿部** | L3-L5 | All | All | 主动肌:股四头肌(0.4), 主动肌:腘绳肌(0.4), 主动肌:内收肌(0.1), 主动肌:小腿(0.1) |
| **核心** | L1,L2 | All | All | 动作模式:核心稳定(0.6), 动作模式:旋转(0.4) |
| **核心** | L3-L5 | All | All | 主动肌:腹直肌(0.7), 主动肌:腹外斜肌(0.3) |

| **[目标维度 - 功能训练]** |  |  |  |  |
| **减脂** | All | All | All | 动作功能:心肺(0.6), 动作构造:复合动作(0.2), 动作模式:核心稳定(0.2) |
| **HIIT燃脂** | All | All | All | 动作功能:爆发(0.4), 动作功能:心肺(0.4), 动作模式:核心稳定(0.2) |
| **柔韧** | All | All | All | 动作功能:柔韧(0.8), 动作功能:体态(0.2) |
| **平衡** | All | All | All | 动作功能:平衡(0.5), 动作模式:核心稳定(0.3), 动作功能:协调(0.2) |
| **核心激活** | All | All | All | 动作功能:激活(0.6), 动作模式:核心稳定(0.4) |
| **激活** | All | All | All | 动作功能:激活(0.6), 动作功能:平衡(0.2), 动作功能:协调(0.2) |
| **恢复** | All | All | All | 动作功能:恢复(0.5), 动作功能:柔韧(0.3), 动作功能:激活(0.2) |
| **体态** | All | All | All | 动作功能:体态(0.6), 动作功能:柔韧(0.2), 动作模式:核心稳定(0.2) |

| **[混合维度 - 目标 + 部位 ]** |  |  |  |  |
| **肩部** | L3,L4 | All | 力量 | 动作模式:垂直推(0.6), 动作模式:水平推(0.2), 主动肌:三角肌后束(0.2) |
| **腿部** | L3-L5 | All | 爆发 | 动作模式:膝主导(0.5), 动作功能:爆发(0.3), 主动肌:臀大肌(0.2) |

| **[通用]** |  |  |  |  |
| **全身** | All | All | All | 动作构造:复合动作(0.6), 动作构造:孤立动作(0.4) | 默认全身训练 |

## 三、 微观适配配置
> **作用**：根据用户个体差异（等级、状态）对基准参数进行动态修正。

### 3.1 等级强度系数配置
> **定义**：根据用户运动等级设定的负荷缩放系数。
> **用途**：基于 [2.2 策略矩阵] 的基准值，针对不同等级用户进行差异化调整。
> **公式**：`最终值` = `基准值` * `系数`。

| 运动等级 | 水平映射 | 等级系数 | 说明 |
| :--- | :--- | :--- | :--- |
| **L1** | 初级 | 0.5 | 需降低门槛，建立信心 |
| **L2** | 初级 | 0.8 | 低于标准，关注动作质量 |
| **L3** | 中级 | 1.0 | 标准负荷 |
| **L4** | 中级 | 1.2 | 增加负荷挑战 |
| **L5** | 高级 | 1.5 | 接近极限 |

### 3.2 难度分布
> **定义**：定义不同用户等级在筛选动作时的难度概率分布。

| 用户等级 | L1概率 | L2概率 | L3概率 | L4概率 | L5概率 | 说明 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **L1** | 0.80 | 0.20 | 0 | 0 | 0 | 绝大多数基础动作，少量尝试L2 |
| **L2** | 0.30 | 0.60 | 0.10 | 0 | 0 | 巩固基础，适度进阶 |
| **L3** | 0.10 | 0.20 | 0.60 | 0.10 | 0 | 标准正态分布 |
| **L4** | 0 | 0.10 | 0.30 | 0.50 | 0.10 | 挑战高难度 |
| **L5** | 0 | 0 | 0.20 | 0.30 | 0.50 | 极限挑战与回归基础 |

### 3.3 疲劳状态
> **定义**：根据用户实时状态（如疲劳度）调整训练参数的规则。
> **用途**：防止过度训练，提供人性化的负荷调整。
> **来源**：`[状态数据].综合疲劳度` (100=状态极佳, 0=力竭)

| 状态 | 状态值 | 强度系数 | 容量系数 |
| :--- | :--- | :--- | :--- |
| **已恢复** | `[85, 100]` | 1.0 | 1.0 |
| **恢复中** | `[55, 84]` | 0.9 | 1.0 |
| **疲劳中** | `[30, 54]` | 0.8 | 0.8 |
| **已力竭** | `[0, 29]` | - | - |

## 四、 推荐算法配置
> **作用**：定义动作筛选、打分与组装的逻辑。

### 4.1 推荐影响因子
> **定义**：定义动作推荐的打分规则（奖惩权重）。
> **用途**：决定哪些动作优先推荐（如新鲜的、收藏的），哪些动作被降权（如厌恶的、疲劳的）。

| 因子键 | 分类 | 权重 | 判定指标 | 算子 | 阈值 |
| :--- | :--- | :--- | :--- |
| 收藏奖励 | **偏好** | +50 | 是否收藏 | = | 是 |
| 新鲜奖励 | **行为** | +40 | 距今天数 | > | 7 (天) |
| 探索奖励 | **行为** | +30 | 历史次数 | = | 0 |
| 厌倦惩罚 | **行为** | -80 | 连续次数 | >= | 3 |
| 冷宫惩罚 | **行为** | -50 | 替换间隔 | <= | 30 (天) |
| 不喜欢惩罚 | **行为** | -100 | 删除间隔 | <= | 30 (天) |
| 完赛信心奖励 | **激励** | +20 | 缺勤天数 | > | 7 (天) |
| 疲劳惩罚 | **状态** | -50 | 疲劳度 | < | 55 |

## 需求池
> > *业务导读：未来版本规划的配置项。*